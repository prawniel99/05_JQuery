<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열추가메소드</title>
    <link rel="stylesheet" href="../css/public.css">

    <script>
        console.log(500=="500");
        console.log(500==="500");

        const arr = ["사과", "바나나", "복숭아", "파인애플", "사과", "딸기", "사과"];

        proc1 = () => {
            // 사과 찾기
            let target = "망고";
            let frvalue = arr.find(function(fr, index) { // 괄호 안에 함수를 call back function 이라고 한다.
                if(fr===target) return fr; // fr===target 하면 값에다가 타입까지 비교
            })
            // 없는 경우 - undefined를 비교
            if(typeof frvalue=="undefined") { // 문자가 아니라, 자료형인 undefined라서, typeof를 써서 문자열로 만들고 비교.
                frvalue = target + "없어요";
            }
            document.getElementById('result1').innerHTML = frvalue;
        }
        
        proc2 = () => {
            // index = 2인 항목을 검색
            let choosenum = 2;
            let frvalue = arr.find((fr, index) => {
                return index == choosenum;
            })

            //없는 경우 - undefined - (자료형이다)를 비교
            if(typeof frvalue=="undefined") frvalue = "없어요";
            document.getElementById('result2').innerHTML = frvalue;
        }

        const nums = [15, 25, 30, 40, 50];
        proc3 = () => {
            // 짝수 찾기
            let even = nums.find(item => {
                return item%2==0;
            })
            document.getElementById('result3').innerHTML = even;
        }
        
        proc4 = () => {
            // 위치 찾기
            let frvalue = arr.findIndex(fr=>{
                return fr==="사과";
            })
            let str = "사과 위치: "+frvalue+"번째";
            document.getElementById('result4').innerHTML = str;

            // 첫 짝수 위치 찾기
            let even = nums.findIndex(item=>{
                return item%2==0;
            })
            str = "짝수의 위치: "+even+"번째";
            document.getElementById('result4').innerHTML += "<br>"+str;
        }

        proc5 = () => {
            let item = "사과";
            // filter = 조건으 만족하는 모든 요소를 리턴 - 결과는 배열로 리턴
            let frArr = arr.filter(function(fr, index){
                if(fr===item) return fr;
            })
            let str = `${item}<br>`;
            str += `${frArr}`;
            document.getElementById('result5').innerHTML = str;
            
            // 모든 짝수
            let even = nums.filter((fr, index)=>{
                return fr%2==0;
            })
            str = "짝수인 것들<br>";
            str += even;
            document.getElementById('result5').innerHTML += "<br>"+str;
        }

        proc6 = () => {
            // // forEach문 사용하기
            // let total = 0;
            // nums.forEach(n=>{
            //     total += n;
            // })
            // console.log(total);

            let str = "";
            const total = nums.reduce(function(acc, curr){
                return acc+curr;
            }, 0); // acc의 초기값을 0으로 설정한 것
            console.log(total);

            // str += "합: "+total+"<br>";
            str += `nums = [15, 25, 30, 40, 50] 합: ${total}<br>`;
            document.getElementById('result6').innerHTML = str;
            /*
            function(acc, curr) {}
            (acc,curr)=>{}
            화살표함수 이거 중요하다고 하니까 잘 알자
            */

            // 최소값 구하기
            const min = nums.reduce((acc, curr)=>{
                if(acc>curr) {
                    return curr;
                } else return acc;
            }); // 초기값 생략시 배열의 첫번째 값이 설정, 배열의 두번째부터 시작.
            str = `nums = [15, 25, 30, 40, 50] 최소값: ${min}<br>`;
            document.getElementById('result6').innerHTML += str;

            // 최대값 구하기
            const max = nums.reduce((acc, curr)=>{
                if(acc<curr) {
                    return curr;
                } else return acc;
            }); // 초기값 생략시 배열의 첫번째 값이 설정, 배열의 두번째부터 시작.
            str = `nums = [15, 25, 30, 40, 50] 최대값: ${max}<br>`;
            document.getElementById('result6').innerHTML += str;
        }

        proc7 = () => {
            const fruits = ["ApPLe", "BANAna", "CherRY"]

            // 소문자로 변경
            // function() 매개변수를 (변수명, index) 이렇게 주면
            // 해당 변수 안에 첫번째부터 하나 하나 담는다는 말이다.
            // index 생략도 가능.
            const lower = fruits.map(function(fr, index){
                return fr.toLowerCase()
            })
            document.getElementById('result7').innerHTML = lower+"<br>";
            
            // 제곱구하기
            // index 생략 가능. 생략하면 파라미터 1개니까 괄호 생략 가능.
            const newArr = nums.map((fr,index)=>{
                return " "+(fr*fr);
            })
            let str = `nums = [15, 25, 30, 40, 50]<br>`;
            str += `fr * fr = ${newArr}<br>`;
            document.getElementById('result7').innerHTML += str;
        }

        const numbers = [120, 60, 55, 80, 100, 30];
        proc8 = () => {
            // 100 이상인 값 하나라도 있으면 
            let item = numbers.some(function(num){
                return num>=100;
            })
            document.getElementById('result8').innerHTML = `100 이상 있는지 ${item}`;
        }
        
        proc9 = () => {
            // 모든 값이 100 이상인지
            let item = numbers.every(num=>{
                return num<1100;
            })
            document.getElementById('result9').innerHTML = `모든 수가 1100보다 작은지 ${item}`;
        }
    </script>
</head>
<body>
    <div class="box">
        <h3>
            1. find: 해당요소찾기 - 첫번째 요소만 찾기. 없으면 undefined
        </h3>
        const arr = ["사과", "바나나", "복숭아", "파인애플", "사과", "딸기", "사과"];<br>
        <input type="button" value="confirm" onclick="proc1()">
        <br><br>
        <div id="result1"></div>
    </div>
    
    <div class="box">
        <h3>
            2. find: 인덱스를 이용한 해당요소 찾기 - 첫번째 요소만 찾기. 없으면 undefined
        </h3>
        const arr = ["사과", "바나나", "복숭아", "파인애플", "사과", "딸기", "사과"];<br>
        <input type="button" value="confirm" onclick="proc2()">
        <br><br>
        <div id="result2"></div>
    </div>

    <div class="box">
        <h3>
            3. find: 짝수 또는 홀수 값 찾기 - 첫번째 요소만 찾기. 없으면 undefined
        </h3>
        <input type="button" value="confirm" onclick="proc3()">
        <br><br>
        <div id="result3"></div>
    </div>

    <div class="box">
        <h3>
            4. findIndex: 첫번째 요소의 인덱스 위치 찾기. 없으면 -1
        </h3>
        const arr = ["사과", "바나나", "복숭아", "파인애플", "사과", "딸기", "사과"];<br>
        <input type="button" value="confirm" onclick="proc4()">
        <br><br>
        <div id="result4"></div>
    </div>

    <div class="box">
        <h3>
            5. filter: 조건을 만족하는 모든 요소를 배열 형태로 반환.
            <br>모든 사과 찾기 / 모든 짝수 찾기 이런거 가능.
        </h3>
        nums = [15, 25, 30, 40, 50];<br><br>
        <input type="button" value="confirm" onclick="proc5()">
        <br><br>
        <div id="result5"></div>
    </div>

    <div class="box">
        <h3>
            6. reduce: 모든 요소를 이용해서 하나의 값을 반환.
            <br>합 / 최대값 / 최소값 구하기
        </h3>
        nums = [15, 25, 30, 40, 50];<br><br>
        <input type="button" value="confirm" onclick="proc6()">
        <br><br>
        <div id="result6"></div>
    </div>
    
    <div class="box">
        <h3>
            7. map: 배열순회 후 콜백 함수를 적용하여 각 요소를 반환하고 새로운 배열을 반환한다.
            <br>소문자로 변경
        </h3>
        map은 선택이 아니라, 전체에 동일한 규칙을 적용하는 것.
        fruits = ["ApPLe", "BANAna", "CherRY"]<br><br>
        <input type="button" value="confirm" onclick="proc7()">
        <br><br>
        <div id="result7"></div>
    </div>
    
    <div class="box">
        <h3>
            8. some: 배열 요소중 조건을 만족하는 요소가 하나라도 있으면 true 반환.
        </h3>
        numbers = [120, 60, 55, 80, 100, 30]<br><br>
        <input type="button" value="confirm" onclick="proc8()">
        <br><br>
        <div id="result8"></div>
    </div>
    
    <div class="box">
        <h3>
            9. every: 배열의 모든 요소가 조건을 만족하면 true 반환.
        </h3>
        <input type="button" value="confirm" onclick="proc9()">
        <br><br>
        <div id="result9"></div>
    </div>

</body>
</html>