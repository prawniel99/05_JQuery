package kr.or.ddit.member.dao;

import java.util.List;

import org.apache.ibatis.session.SqlSession;

import kr.or.ddit.member.vo.MemberVO;
import kr.or.ddit.mybatis.config.MybatisUtil;

public class MemberDaoImpl implements IMemberDao {
	
	// mapper 수행을 위한 SqlSession
	private SqlSession sql;
	
	// 생성자
	private MemberDaoImpl() { } // new MemberDaoImpl 못하게 하는 용도
	
	// 싱글톤
	private static IMemberDao dao;

	// public static IMemberDao getInstance() {}
	public static IMemberDao getDao() {
		if(dao==null) dao = new MemberDaoImpl();
		
		return dao;
	}

	@Override
	public List<MemberVO> selectAllMember() {
		sql = MybatisUtil.getSqlSession();
		
		// 결과를 얻어서 리턴 할 변수
		List<MemberVO> list = null;
		
		// mapper 수행
		list = sql.selectList("member.selectAllMember");

		// 결과값을 service로 리턴		
		return list;
	}

}







